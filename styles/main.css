/* --- Thème clair forcé (mobile/dark mode) --- */
:root { color-scheme: light; }
html, body { background:#f9fafb; color:#111827; }
* { -webkit-tap-highlight-color: transparent; }

/* iOS / auto-dark: force le texte noir dans les champs */
input, textarea, select, button { color:#111; background:#fff; }
input::placeholder, textarea::placeholder { color:#6b7280; opacity:1; }
input, textarea { -webkit-text-fill-color:#111; }
input:-webkit-autofill, textarea:-webkit-autofill {
  -webkit-text-fill-color:#111 !important;
  -webkit-box-shadow: 0 0 0 1000px #fff inset;
}

/* UI base */
body { font-family: system-ui, Segoe UI, Roboto, sans-serif; }
.card { background:#fff; border:1px solid #e5e7eb; border-radius:16px; padding:16px; }
.btn { padding:.6rem .9rem; border:1px solid #e5e7eb; border-radius:10px; background:#fff; touch-action: manipulation; color:#111; font-size:.9rem; }
.btn-primary { padding:.7rem 1rem; border-radius:10px; background:#2563eb; color:#fff; font-weight:600; }
.input { width:100%; padding:.7rem .9rem; border:1px solid #e5e7eb; border-radius:10px; background:#fff; color:#111; }

/* === Sessions & cours list === */
.session-item {
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:1rem;
  padding:.9rem 1rem;
  border:1px solid #e5e7eb;
  border-radius:14px;
  background:#fff;
  color:#111;
  box-shadow:0 8px 24px rgba(15,23,42,.03);
}

.session-main {
  flex:1;
  min-width:0;
}

.session-title {
  font-weight:600;
  font-size:.98rem;
  margin-bottom:.25rem;
  color:#111827;
}

.session-meta {
  display:flex;
  flex-wrap:wrap;
  gap:.35rem;
  align-items:center;
  font-size:.78rem;
}

.session-pill {
  padding:.14rem .5rem;
  border-radius:999px;
  border:1px solid transparent;
  white-space:nowrap;
}

.session-pill-count {
  background:#eff6ff;
  border-color:#dbeafe;
  color:#1d4ed8;
  font-weight:500;
}

.session-pill-stats {
  background:#fefce8;
  border-color:#fef3c7;
  color:#92400e;
}

.session-pill-stats.muted {
  background:#f3f4f6;
  border-color:#e5e7eb;
  color:#6b7280;
}

.actions {
  display:flex;
  gap:.4rem;
  flex-wrap:wrap;
}

.session-actions .btn {
  font-size:.8rem;
  padding:.45rem .7rem;
}

.btn-danger {
  background:#fee2e2;
  border-color:#fecaca;
}

/* Sélecteur de mode du jeu */
.mode-toggle {
  display:flex;
  justify-content:flex-end;
  align-items:center;
  gap:.35rem;
  margin-top:.35rem;
  margin-bottom:.25rem;
  font-size:.78rem;
}

.mode-pill {
  padding:.2rem .55rem;
  border-radius:999px;
  border:1px solid #e5e7eb;
  background:#fff;
  cursor:pointer;
}

.mode-pill.mode-active {
  background:#2563eb;
  border-color:#2563eb;
  color:#fff;
  font-weight:500;
}

/* Arabe */
.arabic { direction: rtl; font-size: 1.8rem; line-height: 1.3; }

/* ====== Carte flip 3D ====== */
.card-3d { perspective: 1200px; width: 100%; background: transparent; padding: 0.5rem; }
.card-inner { position: relative; margin: 0 auto; width: min(640px, 92vw); height: 280px; transform-style: preserve-3d; transition: transform .45s cubic-bezier(.22,.61,.36,1); }
.card-inner.bump { animation: bump .18s ease; }
@keyframes bump { 0%{transform:translateY(0)} 50%{transform:translateY(-4px)} 100%{transform:translateY(0)} }
.card-face { position: absolute; inset: 0; display: grid; place-items: center; background:#fff; border:1px solid #e5e7eb; border-radius: 18px; box-shadow:0 12px 30px rgba(0,0,0,.06); backface-visibility: hidden; padding: 1.2rem; color:#111; }
.card-front { transform: rotateY(0deg); }
.card-back  { transform: rotateY(180deg); }
.card-inner.flipped { transform: rotateY(180deg); }

/* ====== Responsive ====== */
@media (max-width: 640px) {
  body { padding: 1rem; }

  .arabic { font-size: clamp(1.2rem, 7.2vw, 1.8rem); }
  .card-inner { width: 100%; height: min(58vh, 72vw); }
  .card-face { padding: .9rem; }
  #controls { flex-direction: column; }
  #controls .btn, #controls .btn-primary { width: 100%; }

  .session-item {
    flex-direction:column;
    align-items:stretch;
  }
  .session-actions {
    width:100%;
    justify-content:flex-start;
  }
  .session-actions .btn {
    flex:1 1 32%;
    text-align:center;
  }

  .mode-toggle {
    justify-content:center;
  }
}

@media (max-width: 380px) {
  .arabic { font-size: clamp(1.1rem, 7.8vw, 1.6rem); }
  .card-inner { height: min(60vh, 78vw); }
}

/* Si le device est en dark mode, on garde notre clair */
@media (prefers-color-scheme: dark) {
  html, body { background:#f9fafb; color:#111827; }
}
